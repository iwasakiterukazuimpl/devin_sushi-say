# Sushi Say App - Echo API Project

日本語テキストを受け取ってそのまま返すシンプルなエコーAPIと、それを利用するReactフロントエンドアプリケーションです。

## 📋 プロジェクト概要

このプロジェクトは以下の機能を提供します：

- **バックエンドAPI**: 日本語テキストを受け取り、同じテキストをレスポンスとして返すRESTful API
- **フロントエンドアプリ**: ユーザーが日本語テキストを入力し、APIを通じて結果を表示するReactアプリケーション
- **包括的テスト**: Jest を使用したバックエンドAPIの自動テスト

## 🛠 技術スタック

### バックエンド
- **Node.js** - JavaScript ランタイム
- **Express.js** - Webアプリケーションフレームワーク
- **CORS** - クロスオリジンリソース共有対応
- **Jest** - テストフレームワーク
- **Supertest** - HTTP アサーションライブラリ

### フロントエンド
- **React 18** - UIライブラリ
- **TypeScript** - 型安全なJavaScript
- **Vite** - 高速ビルドツール
- **ESLint** - コード品質管理

## 📁 プロジェクト構造

```
devin_lesson-02/
├── backend/                 # バックエンドAPI
│   ├── server.js           # Express サーバーメイン
│   ├── tests/              # テストファイル
│   │   └── say.test.js     # API テスト
│   └── package.json        # バックエンド依存関係
├── sushi-say-app/          # フロントエンドアプリ
│   ├── src/
│   │   ├── App.tsx         # メインアプリコンポーネント
│   │   ├── TopScreen.tsx   # トップ画面
│   │   ├── SendingScreen.tsx # 送信中画面
│   │   └── CompleteScreen.tsx # 完了画面
│   └── package.json        # フロントエンド依存関係
└── README.md               # このファイル
```

## 🚀 セットアップ手順

### 前提条件
- Node.js (v16以上)
- npm または yarn

### バックエンドのセットアップ

1. バックエンドディレクトリに移動
```bash
cd backend
```

2. 依存関係をインストール
```bash
npm install
```

3. 開発サーバーを起動
```bash
npm run dev
```

バックエンドサーバーは `http://localhost:3001` で起動します。

### フロントエンドのセットアップ

1. フロントエンドディレクトリに移動
```bash
cd sushi-say-app
```

2. 依存関係をインストール
```bash
npm install
```

3. 開発サーバーを起動
```bash
npm run dev
```

フロントエンドアプリは `http://localhost:5173` で起動します。

## 📡 API仕様

### POST /say

日本語テキストを受け取り、同じテキストを返すエコーAPI

**エンドポイント**: `POST http://localhost:3001/say`

**リクエスト**:
```json
{
  "text": "まぐろ"
}
```

**レスポンス（成功時）**:
```json
{
  "text": "まぐろ"
}
```

**レスポンス（エラー時）**:
```json
{
  "error": "入力が必要です"
}
```

**ステータスコード**:
- `200`: 成功
- `400`: 不正な入力（空文字、textフィールド未指定）

## 🧪 テスト

バックエンドAPIには包括的なテストが含まれています：

### テストの実行
```bash
cd backend
npm test
```

### テストケース
1. **通常の入力**: "まぐろ"と入力すると同じ"まぐろ"が返ってくる
2. **空文字入力**: 空文字を送信するとエラーが返ってくる
3. **textフィールド欠如**: textフィールドが含まれていないとエラーを返す

## 💻 使用方法

1. バックエンドとフロントエンドの両方のサーバーを起動
2. ブラウザで `http://localhost:5173` にアクセス
3. 入力フィールドに日本語テキストを入力（例: "まぐろ"）
4. "送信" ボタンをクリック
5. 送信中画面の後、入力したテキストが表示される完了画面が表示される

## 🔧 開発用コマンド

### バックエンド
```bash
npm start      # 本番用サーバー起動
npm run dev    # 開発用サーバー起動（自動リロード）
npm test       # テスト実行
```

### フロントエンド
```bash
npm run dev      # 開発サーバー起動
npm run build    # 本番用ビルド
npm run preview  # ビルド結果のプレビュー
npm run lint     # ESLint実行
```

## 🎯 主な機能

- **リアルタイムAPI通信**: フロントエンドからバックエンドAPIへのリアルタイム通信
- **エラーハンドリング**: 不正な入力に対する適切なエラー処理
- **レスポンシブUI**: 3つの画面（入力→送信中→完了）による直感的なユーザー体験
- **型安全性**: TypeScriptによる型安全なフロントエンド開発
- **自動テスト**: Jestによる包括的なバックエンドテスト

## 📝 開発履歴

- バックエンドAPI実装（テスト駆動開発）
- React フロントエンドアプリケーション作成
- フロントエンドとバックエンドの統合
- 包括的なテストスイート実装

---

**開発者**: Devin AI  
**リクエスト者**: @iwasakiterukazuimpl  
**Devin実行リンク**: https://app.devin.ai/sessions/f0c18eb93f7646c2a9c9d61a73e70b24
